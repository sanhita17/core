<!-- BEGIN BASE-->
<div id="base">

  <!-- BEGIN OFFCANVAS LEFT -->
  <div class="offcanvas">
  </div><!--end .offcanvas-->
  <!-- END OFFCANVAS LEFT -->

  <!-- BEGIN CONTENT-->
  <div>

    <!-- BEGIN BLANK SECTION -->
        <ol class="breadcrumb">
          <li class="active breadcrumb-item"> <a [routerLink]="['/home/client/search']">Client Search</a></li>
        </ol>
          <form class="form"  novalidate (ngSubmit)="onSubmit(clientSearchRequest)"  [formGroup]="clientSearchRequest">
            <div class="card card-outlined">
              <div class="card-head" style="min-height: 0px!important;">
                <h2>&nbsp;Search Criteria</h2>
              </div>
              <div class="card-body" style="padding: 7px!important;">
                <div class="row">
                  <div class="col-sm-2">
                     <div class="form-group">
                       <input ngui-auto-complete 
                       formControlName="alienNmbr"
                       [source]="alienNumbers"
                       [list-formatter]="autocompleListFormatter"
                       value-property-name="alienNmbr"
                       display-property-name="alienNmbr"
                       placeholder="Alien#"
                       class="form-control" [ngModel]="autocompleteModel" (ngModelChange)="autoCompleteValuechange($event)"
                        id="alienNumber"  autocomplete="off">
                      <label for="alienNumber">Alien / Client Number</label>
                      <div *ngIf="formErrors.alienNmbr" class="error-msg">
                        {{ formErrors.alienNmbr }}
                      </div>
                    </div>

                  </div>

                  <div class="col-sm-2">
                    <div class="form-group">
                      <input type="text" class="form-control" id="Firstname2" formControlName="firstName">
                      <label for="Firstname2">First Name</label>
                      <div *ngIf="formErrors.firstName" class="error-msg">
                        {{ formErrors.firstName }}
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-2">
                    <div class="form-group">
                      <input type="text" class="form-control" id="lastName" formControlName="lastName">
                      <label for="lastName">Last Name</label>
                      <div *ngIf="formErrors.lastName" class="error-msg">
                        {{ formErrors.lastName }}
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-2">
                   <div class="form-group">
                       <input type='date' class="form-control"  [(ngModel)]='dob'  formControlName="dateOfBirth" /><br>
                      <label for="dateOfBirth">Date of Birth</label>
                     </div>
                  </div>
                  <div class="col-sm-2">
                  <div class="form-group">
                    <ng2-datepicker class="form-control" placeholder="Alien#" [(ngModel)]="dateOfEntry" [ngModel]="dateOfEntry | date:'yyyy-MM-dd'" formControlName="entryDate" (focusout)="dateFocusEvent($event.target.value)" ></ng2-datepicker>
                         <label for="entryDate">Date of Entry</label>
                    </div>
                  </div>
   
                  <div class="col-sm-1">
                    <div class="form-group">
                      <button type="submit" class="btn btn-primary" [disabled]="clientSearchRequest.invalid">Search</button>
                    </div>
                  </div>
                  <div class="col-sm-1">
                    <div class="form-group">
                      <button type="button" class="btn btn-primary" (click)="cancel($event);"><i class="md"></i>Cancel</button>
                    </div>
                  </div>
                </div>
              </div><!--end .card-body -->

            </div><!--end .card -->

          </form>

        <div  *ngIf="clientSearchResultsAvailable">
          <div class="card card-outlined">
            <div class="card-head" style="min-height: 0px!important;">
              <h2>&nbsp;Client Search Results</h2>
            </div>
            <div class="card-body " style="padding: 17px!important;">
              <div class="row">
                <div class="col-lg-12">
                  <div class="table-responsive">
                    <table id="datatable1" class="table table-striped table-hover">
                      <thead>
                      <tr>
                        <th>Client Number</th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th class="sort-numeric">Date of Birth</th>
                        <th class="sort-numeric">Date of Entry</th>
                      </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let result of clientSearchResults | paginate: { id: 'server',
                                            itemsPerPage: size, 		
                                            currentPage: p, 		
                                            totalItems: totalElements }">
                         <td><a [routerLink]="['/home/client/details',result.alienNmbr]">{{result.alienNmbr}}</a></td>
                         <td>{{result.firstName}}</td>
                         <td>{{result.lastName}}</td>
                         <td>{{result.dateOfBirth}}</td>
                         <td>{{result.entryDate}}</td>
                       </tr>
                      </tbody>
                    </table>
                  </div><!--end .table-responsive -->

                  <div class="has-text-centered">		
          <!--<div class="spinner" [ngClass]="{ 'hidden': !loading }"></div>-->		
                      <pagination-controls   (pageChange)="getPage($event)" id="server"></pagination-controls>		
                  </div>
                </div><!--end .col -->
              </div>
            </div><!-- row-->
      </div>
    </div>

    <!-- BEGIN BLANK SECTION -->
  </div><!--end #content-->
  <!-- END CONTENT -->

  <!-- END MENUBAR -->



</div><!--end #base-->


<!-- END BASE -->
